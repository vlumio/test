<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lønnsklokke - Beregn Hver Dag</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background-color: #FAF9F6; }
    .container { width: 60%; margin: auto; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .box { margin: 10px 0; padding: 15px; border-radius: 8px; font-size: 1.2em; font-weight: bold; }
    #clock { font-size: 1.5em; background: #6495ED; color: white; }
    #liveEarnings { font-size: 2em; background: #50C878; color: white; }
    #effectiveHourlyRate { font-size: 1.5em; background: #6495ED; color: white; }
    #nightBonus, #weekendBonus, #holidayBonus, #lokalttogBonus { font-size: 1.2em; }
    .active { background: #50C878; color: black; }
    .inactive { background: #D22B2B; color: black; }
    input, select { padding: 10px; margin: 5px; font-size: 1.1em; }
    .checkbox-group { margin: 10px 0; }
  </style>
</head>
<body>
  <h1>Lønnsklokke - Beregn Inntekt Hver Dag</h1>
  <div id="clock" class="box"></div>
  <div id="liveEarnings" class="box">Tjent hittil: 0 kr</div>
  <div id="effectiveHourlyRate" class="box">Effektiv timelønn: 672,32 kr</div>
  
  <div class="container">
    <label for="hourlyRate">Timelønn:</label>
    <input type="number" id="hourlyRate" value="616">
    
    <div class="checkbox-group">
      <input type="checkbox" id="holidayCheckbox">
      <label for="holidayCheckbox">Beregn helligdagstillegg</label>
    </div>
    
    <div class="checkbox-group">
      <input type="checkbox" id="lokalttogCheckbox">
      <label for="lokalttogCheckbox">Beregn lokalttog tillegg</label>
    </div>
    
    <div class="checkbox-group">
      <input type="checkbox" id="nightBonusCheckbox">
      <label for="nightBonusCheckbox">Beregn kveldstillegg (20:00 - 06:00)</label>
    </div>
    
    <div class="checkbox-group">
      <input type="checkbox" id="weekendBonusCheckbox">
      <label for="weekendBonusCheckbox">Beregn helgetillegg (Fre etter 17:00, Lør, Søn, Man før 06:00)</label>
    </div>
    
    <div>
      <label for="workDayDate">Velg dato:</label>
      <input type="date" id="workDayDate" value="2025-01-01">
    </div>
    
    <div>
      <label for="workDuration">Arbeidstid (timer):</label>
      <input type="number" id="workDuration" value="8" step="0.1">
    </div>

    <div>
      <button onclick="calculateDailyIncome()">Beregn inntekt for denne dagen</button>
    </div>
    
    <div id="dailyIncomeResult" class="box">Inntekt for denne dagen: 0 kr</div>
  </div>
  
  <script>
    // Beregn inntekt for en enkelt arbeidsdag
    function calculateDailyIncome() {
      const baseRate = parseFloat(document.getElementById("hourlyRate").value);
      const workDuration = parseFloat(document.getElementById("workDuration").value);
      const holidayActive = document.getElementById("holidayCheckbox").checked;
      const lokalttogActive = document.getElementById("lokalttogCheckbox").checked;
      const nightBonusActive = document.getElementById("nightBonusCheckbox").checked;
      const weekendBonusActive = document.getElementById("weekendBonusCheckbox").checked;

      let date = new Date(document.getElementById("workDayDate").value);
      let totalEarnings = workDuration * baseRate;  // Grunninntekt uten tillegg

      // Beregn natt- og helgetillegg
      let nightBonusTotal = 0;
      let weekendBonusTotal = 0;

      if (nightBonusActive) {
        // Nattbonus for arbeidstid mellom 20:00 og 06:00
        let workStartHour = date.getHours();
        if (workStartHour >= 20 || workStartHour < 6) {
          nightBonusTotal = workDuration * 151.27;  // Eksempel på nattbonus per time
        }
      }

      if (weekendBonusActive) {
        // Helgetillegg for arbeid på fredag etter kl 17, lørdag, søndag eller mandag før kl 06
        let dayOfWeek = date.getDay();
        if (dayOfWeek === 5 && date.getHours() >= 17 || dayOfWeek === 6 || dayOfWeek === 0 || (dayOfWeek === 1 && date.getHours() < 6)) {
          weekendBonusTotal = workDuration * 151.27;  // Eksempel på helgetillegg per time
        }
      }

      // Helligdagstillegg
      let holidayBonusPay = 0;
      if (holidayActive) {
        holidayBonusPay = workDuration * baseRate * 0.5;  // Eksempel på 50% tillegg på arbeidsdager
      }

      // Lokalttog tillegg
      let lokalttogBonus = lokalttogActive ? 134.46 : 0;  // Eksempel på fast lokalttogtillegg

      // Total inntekt for dagen
      totalEarnings += nightBonusTotal + weekendBonusTotal + holidayBonusPay + lokalttogBonus;

      // Vis resultat
      document.getElementById("dailyIncomeResult").textContent = `Inntekt for denne dagen: ${totalEarnings.toFixed(2)} kr`;
    }
  </script>
</body>
</html>
